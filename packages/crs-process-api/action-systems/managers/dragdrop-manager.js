import{ensureOptions as e}from"./dragdrop-manager/options.js";import{applyPlaceholder as l}from"./dragdrop-manager/placeholder.js";import{drop as h}from"./dragdrop-manager/drop.js";import{startDrag as n,updateDrag as r}from"./dragdrop-manager/drag.js";import{getDraggable as o,getScrollAreas as u}from"./dragdrop-manager/drag-utils.js";class D{#t;#s;#h;#n;#r;#c;#m;#o;#i;#u;#e;#a;#l;#p;#d;get updateDragHandler(){return this.#l}get dragElement(){return this.#e}get movePoint(){return this.#i}get startPoint(){return this.#o}get scrollAreas(){return this.#m}constructor(t,s,i){this.#t=t,this.#d=i,this.#s=e(s),this.#h=this.#g.bind(this),this.#n=this.#D.bind(this),this.#r=this.#f.bind(this),this.#c=this.#v.bind(this),s.autoScroll!=null&&(this.#m=u(this.#t,s.autoScroll)),(this.#t.shadowRoot==null?this.#t:this.#t.shadowRoot).addEventListener("mousedown",this.#h),this.#t.__dragDropManager=this}dispose(){(this.#t.shadowRoot==null?this.#t:this.#t.shadowRoot).removeEventListener("mousedown",this.#h),this.#t=null,this.#d=null,this.#s=null,this.#h=null,this.#n=null,this.#r=null,this.#c=null,this.#m=null,this.#o=null,this.#i=null,this.#u=null,this.#e=null,this.#a=null,this.#l=null}async#g(t){if(t.preventDefault(),this.#a==!0)return;this.#o={x:t.clientX,y:t.clientY},this.#i={x:t.clientX,y:t.clientY};const s=o(t,this.#s);s!=null&&(this.#u=await l(s,this.#s),this.#e=await n(s,this.#s),document.addEventListener("mousemove",this.#n),document.addEventListener("mouseup",this.#r),this.#l=r.bind(this),this.#l())}async#D(t){t.preventDefault(),this.#i.x=t.clientX,this.#i.y=t.clientY,this.#p=t.target}async#f(t){this.#a=!0,t.preventDefault(),this.#l=null,this.#i=null,this.#o=null,document.removeEventListener("mousemove",this.#n),document.removeEventListener("mouseup",this.#r),await h(t,this.#e,this.#u,this.#s,this.#d),this.#e=null,this.#u=null,this.#p=null,this.#a=!1}async#v(t){}}export{D as DragDropManager};
