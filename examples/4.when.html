<!doctype html>
<html lang="en">
<body>
    <script>
        function loaded() {
            const obj = crsbinding.observation.observe({
                firstName: "name",
                lastName: "lastName"
            });

            const fn = () => alert("this is the one");
            crsbinding.events.when(obj, "firstName == 'John' && lastName == 'Doe'", fn);

            obj.firstName = "John";
            obj.lastName = "Doe";

            crsbinding.events.removeWhen(obj, "firstName == 'John' && lastName == 'Doe'", fn);
            crsbinding.observation.releaseObserved(obj);
        }
    </script>

    <script src="./../src/index.js" onload="loaded()" type="module"></script>
</body>
</html>