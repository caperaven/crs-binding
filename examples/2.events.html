<!doctype html>
<body>
    <div id="name"></div>
    <div id="lastName"></div>

    <script type="module">
        import "./../src/index.js";

        class Person {
            get firstName() {
                return this._firstName;
            }

            set firstName(newValue) {
                this._firstName = newValue;
                crsbinding.events.notifyPropertyChanged(this, "firstName");
            }

            get lastName() {
                return this._lastName;
            }

            set lastName(newValue) {
                this._lastName = newValue;
                crsbinding.events.notifyPropertyChanged(this, "lastName");
            }

            constructor() {
                crsbinding.events.enableEvents(this);
            }

            dispose() {
                crsbinding.events.disableEvents(this);
            }
        }

        const john = new Person();
        crsbinding.events.on(john, "firstName", () => document.querySelector("#name").innerText = john.firstName);
        crsbinding.events.on(john, "lastName", () => document.querySelector("#lastName").innerText = john.lastName);

        john.firstName = "John";
        john.lastName = "Doe";
        john.dispose();
    </script>
</body>
</html>