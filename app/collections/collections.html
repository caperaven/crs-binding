<div class="collections-container">
    <h2 data-title.once="title" data-test="${title}">${title}</h2>

    <ul click.call="selectItem($event)">
        <template for="item of items">
            <li class="list-item" data-id.once="item.id" style.color.if="item.priority == 2 ? 'red'">
                <div>${item.title}</div>
                <div>${item.isDone}</div>
<!--                <select value.bind="item.priority">-->
<!--                    <template for.once="item of $parent.priorities">-->
<!--                        <option value="${item.id}">${item.title}</option>-->
<!--                    </template>-->
<!--                </select>-->
            </li>
        </template>
    </ul>

    <div class="form">
        <div class="toolbar">
            <button click.call="addItem">Add Item</button>
            <button click.call="popItem">Remove Last Item</button>
            <button click.call="removeItem">Remove Item</button>
        </div>

        <div>
            <label>
                <div>Title</div>
                <input value.bind="selectedItem.title" style.color.if="selectedItem.priority == 2 ? 'red'"/>
            </label>

            <select value.bind="selectedItem.priority">
                <template for.once="item of priorities">
                    <option value="${item.id}">${item.title}</option>
                </template>
            </select>

            <div>
                NB: remember to add the items translations feature
            </div>
        </div>
    </div>
</div>